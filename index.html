<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>8-Way Squid Ballot</title>
    <style>
        :root {
            --teal: #009999; --purple: #990099; --pink: #ff00ff; --lime: #00ff00;
            --yellow: #ffff00; --blue: #0000ff; --red: #ff0000; --green: #009900;
            --squid-pink: #ff0055;
        }

        body {
            background-color: #000;
            color: #fff;
            font-family: 'Courier New', Courier, monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
            margin: 0;
            user-select: none;
        }

        .controls {
            margin-bottom: 30px;
            display: flex;
            gap: 10px;
        }

        .mode-btn {
            background: #0a0a0a;
            color: #444;
            border: 2px solid #222;
            padding: 10px 20px;
            cursor: pointer;
            font-weight: bold;
            transition: 0.3s;
        }

        .mode-btn.active {
            color: #fff;
            border-color: var(--squid-pink);
            box-shadow: 0 0 10px var(--squid-pink);
        }

        .grid-container {
            display: grid;
            grid-template-areas: 
                "ul  u   ur"
                "l   mid r"
                "dl  d   dr";
            grid-template-columns: 130px 130px 130px;
            grid-template-rows: 130px 130px 130px;
            gap: 20px;
            align-items: center;
            justify-items: center;
        }

        .node { display: flex; flex-direction: column; align-items: center; transition: opacity 0.2s; }
        .node.v-hidden { visibility: hidden; pointer-events: none; opacity: 0; }

        .n-ul { grid-area: ul; } .n-u { grid-area: u; } .n-ur { grid-area: ur; }
        .n-l { grid-area: l; }  .n-mid { grid-area: mid; color: #444; font-weight: bold; font-size: 0.7rem; letter-spacing: 2px; } .n-r { grid-area: r; }
        .n-dl { grid-area: dl; } .n-d { grid-area: d; } .n-dr { grid-area: dr; }

        .vote-btn {
            background: none;
            border: 4px solid transparent;
            cursor: pointer;
            padding: 5px;
            border-radius: 15px;
            transition: 0.1s;
        }

        .vote-btn img { width: 100px; height: 100px; display: block; pointer-events: none; }

        /* Glow Colors */
        .ul.active, .ul:hover { border-color: var(--teal); box-shadow: 0 0 20px var(--teal); }
        .ur.active, .ur:hover { border-color: var(--purple); box-shadow: 0 0 20px var(--purple); }
        .dl.active, .dl:hover { border-color: var(--pink); box-shadow: 0 0 20px var(--pink); }
        .dr.active, .dr:hover { border-color: var(--lime); box-shadow: 0 0 20px var(--lime); }
        .yellow.active, .yellow:hover { border-color: var(--yellow); box-shadow: 0 0 20px var(--yellow); }
        .blue.active, .blue:hover { border-color: var(--blue); box-shadow: 0 0 20px var(--blue); }
        .red.active, .red:hover { border-color: var(--red); box-shadow: 0 0 20px var(--red); }
        .green.active, .green:hover { border-color: var(--green); box-shadow: 0 0 20px var(--green); }

        .tally { font-size: 1.4rem; font-weight: bold; margin-bottom: 4px; color: #eee; }
        
        #total-display { 
            margin-top: 40px; 
            color: var(--squid-pink); 
            font-size: 1.4rem; 
            letter-spacing: 3px;
            text-shadow: 0 0 5px var(--squid-pink);
        }

        .reset-section {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
        }

        .reset-btn {
            background: transparent;
            color: #333;
            border: 1px solid #222;
            padding: 8px 20px;
            cursor: pointer;
            font-family: inherit;
            letter-spacing: 1px;
            transition: 0.3s;
        }

        .reset-btn:hover {
            color: var(--squid-pink);
            border-color: var(--squid-pink);
            box-shadow: 0 0 10px var(--squid-pink);
        }
    </style>
</head>
<body>

    <div class="controls">
        <button class="mode-btn active" id="btn4" onclick="updateMode('4way')">4-WAY</button>
        <button class="mode-btn" id="btnDiag" onclick="updateMode('diag')">DIAGONAL</button>
        <button class="mode-btn" id="btn8" onclick="updateMode('8way')">8-WAY</button>
    </div>

    <div class="grid-container">
        <div class="node n-ul diag"><div class="tally" id="t-ul">0</div><button id="v-ul" class="vote-btn ul" onclick="vote('ul')"><img src="Ball6.png"></button></div>
        <div class="node n-u card"><div class="tally" id="t-u">0</div><button id="v-u" class="vote-btn yellow" onclick="vote('u')"><img src="Ball2.png"></button></div>
        <div class="node n-ur diag"><div class="tally" id="t-ur">0</div><button id="v-ur" class="vote-btn ur" onclick="vote('ur')"><img src="Ball5.png"></button></div>

        <div class="node n-l card"><button id="v-l" class="vote-btn red" onclick="vote('l')"><img src="Ball3.png"></button><div class="tally" id="t-l">0</div></div>
        <div class="node n-mid">VOTING</div>
        <div class="node n-r card"><button id="v-r" class="vote-btn green" onclick="vote('r')"><img src="Ball4.png"></button><div class="tally" id="t-r">0</div></div>

        <div class="node n-dl diag"><button id="v-dl" class="vote-btn dl" onclick="vote('dl')"><img src="Ball8.png"></button><div class="tally" id="t-dl">0</div></div>
        <div class="node n-d card"><button id="v-d" class="vote-btn blue" onclick="vote('d')"><img src="Ball1.png"></button><div class="tally" id="t-d">0</div></div>
        <div class="node n-dr diag"><button id="v-dr" class="vote-btn dr" onclick="vote('dr')"><img src="Ball7.png"></button><div class="tally" id="t-dr">0</div></div>
    </div>

    <div id="total-display">TOTAL BALLOTS: <span id="grand-total">0</span></div>

    <div class="reset-section">
        <button class="reset-btn" onclick="resetSystem()">RESET SYSTEM (R)</button>
    </div>

    <audio id="s-u" src="vote_yellow.ogg"></audio><audio id="s-d" src="vote_blue.ogg"></audio>
    <audio id="s-l" src="vote_red.ogg"></audio><audio id="s-r" src="vote_green.ogg"></audio>
    <audio id="s-ul" src="vote_ul.ogg"></audio><audio id="s-ur" src="vote_ur.ogg"></audio>
    <audio id="s-dl" src="vote_dl.ogg"></audio><audio id="s-dr" src="vote_dr.ogg"></audio>

    <script>
        let total = 0;
        const counts = { ul:0, u:0, ur:0, l:0, r:0, dl:0, d:0, dr:0 };

        function updateMode(mode) {
            document.querySelectorAll('.mode-btn').forEach(b => b.classList.remove('active'));
            if(mode === '4way') document.getElementById('btn4').classList.add('active');
            if(mode === 'diag') document.getElementById('btnDiag').classList.add('active');
            if(mode === '8way') document.getElementById('btn8').classList.add('active');

            document.querySelectorAll('.node').forEach(node => {
                if(node.classList.contains('n-mid')) return;
                node.classList.add('v-hidden');
                if(mode === '4way' && node.classList.contains('card')) node.classList.remove('v-hidden');
                if(mode === 'diag' && node.classList.contains('diag')) node.classList.remove('v-hidden');
                if(mode === '8way') node.classList.remove('v-hidden');
            });
        }

        function vote(id) {
            const btn = document.getElementById(`v-${id}`);
            if(btn.parentElement.classList.contains('v-hidden')) return;

            counts[id]++;
            total++;
            document.getElementById(`t-${id}`).innerText = counts[id];
            document.getElementById('grand-total').innerText = total;

            const sound = document.getElementById(`s-${id}`);
            sound.currentTime = 0;
            sound.play();

            btn.classList.add('active');
            setTimeout(() => btn.classList.remove('active'), 150);
        }

        function resetSystem() {
            total = 0;
            document.getElementById('grand-total').innerText = "0";
            for (let key in counts) {
                counts[key] = 0;
                document.getElementById(`t-${key}`).innerText = "0";
            }
        }

        window.addEventListener('keydown', (e) => {
            const k = e.key.toLowerCase();
            if (k === 'arrowup') vote('u'); if (k === 'arrowdown') vote('d');
            if (k === 'arrowleft') vote('l'); if (k === 'arrowright') vote('r');
            if (k === 'q') vote('ul'); if (k === 'e') vote('ur');
            if (k === 'z') vote('dl'); if (k === 'c') vote('dr');
            if (k === 'r') resetSystem();
        });

        updateMode('4way');
    </script>
</body>
</html>
